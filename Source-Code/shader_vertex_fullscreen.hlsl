/*==============================================================================

   Fullscreen描画用頂点シェーダー [shader_vertex_fullscreen.hlsl]



==============================================================================*/

struct VS_OUT
{
    float4 pos : SV_POSITION;
};

VS_OUT main(uint id : SV_VertexID)
{
    /*
        Fullscreen triangle （NDC空間）

        (-1, -1)  : 画面左下
        (-1,  3)  : 画面上より外側
        ( 3, -1)  : 画面右より外側

        画面範囲を超える大きな三角形を作ることで、
        GPUのクリッピング後に「画面全体」をちょうど覆う形になります。
    */
    float2 p;
    if (id == 0)
        p = float2(-1, -1);
    if (id == 1)
        p = float2(-1, 3);
    if (id == 2)
        p = float2(3, -1);
    
    VS_OUT vo;
    vo.pos = float4(p, 0, 1);
    return vo;
}

/*==============================================================================

   フルスクリーン描画用 頂点シェーダー

   画面全体を覆う1枚の巨大な三角形（フルスクリーントライアングル）を
   生成するためだけに使われます。

   目的：
   ・ピクセルシェーダーを「画面上のすべてのピクセル」で実行させること
   ・アウトラインやポストエフェクトなどの後処理を行うため

   特徴：
   ・頂点バッファ(VB) / インデックスバッファ(IB)は使用しない
   ・SV_VertexIDを使って頂点座標をシェーダー内で直接生成する
   ・三角形は画面サイズより大きく、GPUのクリッピングによって結果的に画面全体を覆う

==============================================================================*/